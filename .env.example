# ============================================================================
# Pi-hole Docker Конфигурация
# ============================================================================
# Скопируйте этот файл в .env и отредактируйте:
#   cp .env.example .env
#   nano .env
# ============================================================================

# ============================================================================
# ОСНОВНЫЕ НАСТРОЙКИ
# ============================================================================

# Часовой пояс
TZ=Europe/Moscow

# ============================================================================
# ДОМЕН И SSL СЕРТИФИКАТЫ
# ============================================================================

# Домен для веб-панели Pi-hole (опционально)
# Если указан — автоматически выпускается SSL сертификат Let's Encrypt
# Примеры: dns.example.com, pihole.yourdomain.ru
# Оставьте пустым если не нужен SSL
# PIHOLE_DOMAIN=

# Email для Let's Encrypt (обязателен если указан домен)
# PIHOLE_ADMIN_EMAIL=admin@example.com

# ============================================================================
# ВЕБ-ПАНЕЛЬ
# ============================================================================

# Пароль для входа в панель администратора
FTLCONF_webserver_api_password=admin123

# ---------------------------------------------------------------------------
# РЕЖИМ ДОСТУПА К ПАНЕЛИ — выберите один из вариантов:
# ---------------------------------------------------------------------------

# --- ВАРИАНТ 1: Только localhost (безопасно, доступ через SSH туннель) ---
# WEB_BIND_IP=127.0.0.1
# WEB_HTTP_PORT=8080
# WEB_HTTPS_PORT=8443
# Доступ: ssh -L 8080:127.0.0.1:8080 user@server → http://localhost:8080/admin

# --- ВАРИАНТ 2: Доступ по домену с SSL (укажите PIHOLE_DOMAIN выше) ---
# WEB_BIND_IP=0.0.0.0
# WEB_HTTP_PORT=80
# WEB_HTTPS_PORT=443
# Доступ: https://dns.yourdomain.com/admin

# --- ТЕКУЩАЯ НАСТРОЙКА (измените под свой вариант) ---
WEB_BIND_IP=127.0.0.1
WEB_HTTP_PORT=8080
WEB_HTTPS_PORT=8443

# Таймаут сессии в секундах (30 мин = 1800)
FTLCONF_webserver_session_timeout=1800

# ============================================================================
# DNS СЕРВЕР
# ============================================================================

# ---------------------------------------------------------------------------
# РЕЖИМ ДОСТУПА К DNS — выберите один из вариантов:
# ---------------------------------------------------------------------------

# --- ВАРИАНТ 1: Только localhost ---
# DNS_BIND_IP=127.0.0.1
# Только этот сервер может использовать Pi-hole как DNS

# --- ВАРИАНТ 2: Все интерфейсы (требуется firewall!) ---
# DNS_BIND_IP=0.0.0.0
# Другие устройства/серверы могут использовать этот DNS
# ВАЖНО: Настройте iptables для ограничения доступа!

# --- ТЕКУЩАЯ НАСТРОЙКА ---
DNS_BIND_IP=127.0.0.1
DNS_PORT=53

# Режим прослушивания DNS:
#   LOCAL   — только локальная сеть (рекомендуется)
#   SINGLE  — только указанный интерфейс
#   BIND    — привязка к конкретному IP
#   ALL     — все интерфейсы (требуется firewall!)
FTLCONF_dns_listeningMode=ALL

# ============================================================================
# UPSTREAM DNS СЕРВЕРЫ
# ============================================================================

# Используемые DNS серверы
# Примеры:
#   Google:     8.8.8.8,8.8.4.4
#   Cloudflare: 1.1.1.1,1.0.0.1
#   Quad9:      9.9.9.9,149.112.112.112
PIHOLE_DNS=8.8.8.8,8.8.4.4

# ============================================================================
# КЭШИРОВАНИЕ
# ============================================================================

# Размер DNS кэша (записей)
FTLCONF_dns_cache_size=10000

# TTL для заблокированных доменов (секунды)
FTLCONF_dns_blockTTL=2

# ============================================================================
# БЕЗОПАСНОСТЬ
# ============================================================================

# Включить проверку DNSSEC
FTLCONF_dns_dnssec=false

# Логировать DNS запросы
FTLCONF_dns_queryLogging=true

# ============================================================================
# YOUTUBE ADS BLOCKLIST
# ============================================================================

# Автоматически добавить список блокировки рекламы YouTube при первом запуске
PIHOLE_YOUTUBE_BLOCKLIST=true
